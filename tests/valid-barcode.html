<!doctype html>
<html>
  <head>
      <meta charset='UTF-8' />
      <meta http-equiv='content-type' content='text/html; charset=utf-8' />
      <title>Valid barcode</title>
      <link rel='stylesheet' href='http://code.jquery.com/qunit/qunit-1.12.0.css'>
      <script src='http://code.jquery.com/jquery-2.0.3.js'></script>
      <script src='../dist/jquery-ean13.min.js'></script>
      <script src='../dist/ean13.min.js'></script>
      <script src='http://code.jquery.com/qunit/qunit-1.12.0.js'></script>
  </head>
  <body>

    <div id="qunit"></div>
    <div id='qunit-fixture'>
      <canvas id="ean" width="400" height="200"></canvas>
    </div>

    <script type="text/javascript">
      module("Validation Tests");

      test("jquery valid", function() {

        $("#ean").EAN13("4012345123456", {
          onValid: function(){
            ok(true, "Valid barcode fires onValid");
          },
          onInvalid: function(){
            ok(false, "Valid barcode fires onInvalid");
          }
        });
      });

      test("jquery invalid", function() {
        $("#ean").EAN13("5901234123450", {
          onValid: function(){
            ok(false, "Invalid barcode fires onValid");
          },
          onInvalid: function(){
            ok(true, "Invalid barcode fires onInvalid");
          }
        });
      });

      test("js valid", function() {
        new EAN13(document.getElementById("ean"),"4012345123456", {
          onValid: function(){
            ok(true, "Valid barcode fires onValid");
          },
          onInvalid: function(){
            ok(false, "Valid barcode fires onInvalid");
          }
        });
      });

      test("js invalid", function() {
        new EAN13(document.getElementById("ean"),"5901234123450", {
          onValid: function(){
            ok(false, "Invalid barcode fires onValid");
          },
          onInvalid: function(){
            ok(true, "Invalid barcode fires onInvalid");
          }
        });
      });

      test("check sum zero", function() {
        new EAN13(document.getElementById("ean"),"0000000000130", {
          onValid: function(){
            ok(false, "Check sum zero works");
          },
          onInvalid: function(){
            ok(true, "Check sum zero is invalid");
          }
        });
      });
    </script>

  </body>
</html>
